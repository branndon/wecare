<view title="'Instituições'">

    <div class="bar bar-subheader item-input-inset">
        <label class="item-input-wrapper">
            <i class="icon ion-ios7-search placeholder-icon"></i>
            <input id="searchKey" type="search" placeholder="Search" ng-model="searchKey" autocorrect="off" >
            <button class="button button-clear" ng-click="clearSearch()">X</button>
        </label>
        <button class="icone-type ion-map" ng-click="mudaVisao();" ng-show="listaIntituicoes=='lista'"></button>
        <button class="icone-type ion-navicon-round" ng-click="mudaVisao();" ng-show="listaIntituicoes=='mapa'"></button>
    </div>

    <content has-header="true" has-subheader="true">
        <section class="lista-instituicoes" ng-show="listaIntituicoes=='lista'">
            <list>
                <item ng-repeat="employee in filteredItems = (employees | filter:searchKey)" type="item-text-wrap" href="#/instituicao/{{employee.id}}">
                    <h3>{{employee.firstName}} {{employee.lastName}}</h3>
                    <p>{{employee.title}}</p>
                </item>
                <item ng-hide="filteredItems.length">
                    <center><p>Nenhuma instituição encontrada.</p></center>
                </item>
            </list>
        </section>
        <section class="lista-instituicoes-mapa" ng-show="listaIntituicoes=='mapa'">
              <div id="map"></div>
        </section>
    </content>

</view>
